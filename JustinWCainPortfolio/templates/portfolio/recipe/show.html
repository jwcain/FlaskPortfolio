{% extends 'base.html' %}

{% block title %}{{recipe['title']}}{% endblock %}

{% block content %}
<article class="recipe">
    <h1 class="title">{{recipe['title']}}</h1>
    <p class="recap">{{recipe['summary']}}</p>
    <body>{{recipe['info']}}</body>
    <br>
    <br>
    <h4>Ingredients</h4>
    {% for ingredient in all_ingredients %}
        <li>{{'{} - {}'.format(ingredient['amount'], ingredient['ingredient_name'])}}</li>
    {% endfor %}
    <hr>
    {% for step_ingredients_pair in step_ingredientlist_pair %}
    {% set step = step_ingredients_pair[0] %}
    {% set ingredients = step_ingredients_pair[1] %}
    <h1>{{'Step {}:'.format(loop.index)}}</h1>
    <p>{{step['info']}}</p>
    <h3 class="recap">Step ingredients:</h3>
    {% for ingredient in ingredients %}
        <li class="stepingredient">{{'{} - {}'.format(ingredient['amount'], ingredient['ingredient_name'])}}</li>
    {% endfor %}
    {% if not loop.last %}
    <hr>
    {% endif %}
    {% endfor %}
</article>
{% endblock %}